<div ng-repeat="competition in event.competitions">
    <md-toolbar class="md-primary">
        <div class="md-toolbar-tools">
            <h3 class="ng-binding">{{competition.name}} (Juroren: {{competition.jurors}})</h3>
            <span flex="" class="flex"></span>

            <md-button class="md-primary" ng-click="promptGroup($event, competition)">
                + Gruppe
            </md-button>
            <md-button class="md-icon-button" ng-click="deleteCompetition($event, event, competition)">
                <md-icon md-svg-icon="action:delete"></md-icon>
            </md-button>
        </div>
    </md-toolbar>

    <br/>

    <section class="md-whiteframe-z1" ng-repeat="group in competition.groups">

        <md-toolbar class="md-secondary">
            <div class="md-toolbar-tools">
                <h3 class="ng-binding">{{$index+1}} Gruppe (Gewinner: {{group.winners}})</h3>
                <span flex="" class="flex"></span>

                <md-button class="md-primary" ng-click="promptSacrifice($event, group)">
                    Opferlamm
                </md-button>
                <md-button class="md-primary" ng-click="assignParticipant($event, group)">
                    + Poet
                </md-button>
                <md-button class="md-icon-button" ng-click="deleteGroup($event, competition, group)">
                    <md-icon md-svg-icon="action:delete"></md-icon>
                </md-button>
            </div>
        </md-toolbar>


        <md-list>
            <md-subheader class="md-no-sticky" ng-show="group.sacrifice && group.sacrifice.name">Opferlamm
            </md-subheader>
            <md-list-item class="md-2-line md-no-proxy" ng-show="group.sacrifice && group.sacrifice.name">
                <div class="md-list-item-text" layout="column">
                    <h3>{{ group.sacrifice.name }}</h3>

                    <p>{{ group.sacrifice.subtitle }}</p>
                </div>

                <div class="md-secondary">
                    <md-button class="md-icon-button" ng-click="deleteSacrifice(group)">
                        <md-icon md-svg-icon="action:delete"></md-icon>
                    </md-button>
                    <md-button class="md-icon-button" ng-click="promptSacrifice($event,  group)">
                        <md-icon md-svg-icon="image:edit"></md-icon>
                    </md-button>
                </div>
            </md-list-item>

            <md-subheader ng-show="group.participants && group.participants.length > 0"
                          class="md-no-sticky">{{group.participants.length}} Poet(en)
            </md-subheader>

            <md-list-item class="md-2-line md-no-proxy" ng-repeat="participant in group.participants">
                <div class="md-list-item-text" layout="column">
                    <h3>{{ participant.name }}</h3>

                    <p>{{ participant.subtitle}}</p>
                </div>

                <div class="md-secondary">
                    <md-button class="md-icon-button" ng-click="deleteParticipant($event, group, participant)">
                        <md-icon md-svg-icon="action:delete"></md-icon>
                    </md-button>

                    <md-button class="md-icon-button" ng-click="promptParticipant($event, group, participant)">
                        <md-icon md-svg-icon="image:edit"></md-icon>
                    </md-button>
                </div>
            </md-list-item>
        </md-list>
    </section>
</div>

<md-button class="md-primary" ng-click="promptCompetition($event)">
    + Wettbewerb
</md-button>